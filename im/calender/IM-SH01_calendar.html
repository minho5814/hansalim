<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
	<title>한살림 인터넷 장보기</title>

	<link rel="stylesheet" type="text/css" href="../../css/common.css">
	<link rel="stylesheet" type="text/css" href="../../css/main.css">
</head>

<body>
<div class="top-banner">
	<div class="inner">
		<img src="../../img/temp/top_banner.png" alt="">
		<button type="button" class="btn-close">닫기</button>
	</div>
</div>


<div class="wrapper">
	<div class="header">
		<div class="head-top">
		</div>
	</div>

	<div class="container">
		<div class="cart-wrap">
			<dl class="date-area">
				<dt class="bullet-type">공급일 선택</dt>
				<dd class="calendar btn-calendar"><input type="text" class="datepicker22" readonly></dd>
			</dl>
		</div>
	</div>

	<div class="footer">
	</div>
</div>

<!-- 레이어 팝업 영역 -->
<div class="pop-calender">
	<div class="datepicker2"></div>
	<div class="calender-info">
		<ul  class="list">
			<li class="text">선택가능공급일</li>
			<li class="text">희망배송일</li>
		</ul>
		<dl class="date-area">
			<dt>선택 공급일</dt>
			<dd>2017년 3월 16일 (목)</dd>
		</dl>
		<div class="btn-center">
			<button type="button" class="btn-round-text btn-green">확인</button>
			<button type="button" class="btn-round-text btn-gray">취소</button>
		</div>
	</div>
</div>

<script type="text/javascript" src="../../js/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="../../js/jquery-ui.1.12.1.js"></script>
<script type="text/javascript" src="../../js/common.js"></script>
<script type="text/javascript">
	/* 레이어 팝업 호출 */
	$('.btn-calendar').click(function(){
		var btnTop = $(this).offset().top;
		var btnLft = $(this).offset().left;
		var btnH = $(this).outerHeight();
		$('.pop-calender').css({'left':btnLft, 'top':btnTop+btnH}).fadeIn(200);
	});

	$(function() {
		/* 달력 (datepicker) */
		$(".datepicker2").datepicker({
			showOn:'button',
			dateFormat:'yy/mm/dd',
			monthNames :['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
			showMonthAfterYear:true,
			dayNamesMin:['일', '월', '화', '수', '목', '금', '토'],
			firstDay: 0,
			showOtherMonths: true,
			yearSuffix: '년',
			onSelect: function(/*String*/ dateText, /*Object*/ inst) {
				var da = dateText.split("/");
				markDate(da[0], (parseInt(da[1]) - 1).toString(), da[2]);

				/*

				*/

				$("#selectedDate").text(dateText);
			}
		});

		markDate(2017, 3, 27);
	});


	function markDate(y, m, d) {
		// 캘린더
		// - 선택가능공급일 : 오늘로부터 3일 이후(영업일 기준)부터 일주일간 선택 가능 마킹
		// - 수정가능일 : 선택 공급일로부터 3일 전 마킹
		// - 희망배송일 : 선택가능공급일 內 선택 가능, 선택한 날짜 마킹
		setTimeout( function() {
			// <td class=" " data-handler="selectDay" data-event="click" data-month="3" data-year="2017"><a class="ui-state-default" href="#">12</a></td>
			$(".datepicker2 td[data-year=2017][data-month=3] > a:contains('21')").css('background-color', '#e3e3e3');
			$(".datepicker2 td[data-year=2017][data-month=3] > a:contains('24')").css('background-color', '#e3e3e3');
			$(".datepicker2 td[data-year=2017][data-month=3] > a:contains('25')").css('background-color', '#e3e3e3');
			$(".datepicker2 td[data-year=2017][data-month=3] > a:contains('26')").css('background-color', '#e3e3e3');
			$(".datepicker2 td[data-year=2017][data-month=3] > a:contains('27')").css('background-color', '#e3e3e3');

			$(".datepicker2 td[data-year=" + y + "][data-month=" + m + "] > a:contains('" + d + "')").css({'background-color':'#91c90b', 'color':'#fff'});
			$(".datepicker2 td[data-year=2017][data-month=4] > a:contains('10')").css({'background-color':'#91c90b', 'color':'#fff'});
		}, 20 );
	}
</script>

</body>

</html>
